<div class="login-container p-3">
    <h1>Quiz Builder App</h1>
    <ng-container *ngIf="!sending">
        <form [formGroup]="form">
            <h3 *ngIf="!signupMode">Log In</h3>
            <h3 *ngIf="signupMode">Sign Up</h3>
            <div class="text-danger" *ngIf="error">{{error}}</div>
            <div class="form-group">
                <label>Name</label>
                <input formControlName="name" type="text" class="form-control" [ngClass]="{ 'is-invalid': form.controls['name'].errors }"/>
                <div class="text-danger" *ngIf="form.controls['name']?.errors">Name is required</div>
            </div>
            <br>
            <div class="form-group">
                <label>Password</label>
                <input formControlName="pass" type="password" class="form-control" [ngClass]="{ 'is-invalid': form.controls['pass'].errors }"/>
                <div class="text-danger" *ngIf="form.controls['pass']?.errors">Password is required</div>
            </div>
            <button *ngIf="!signupMode" class="btn btn-secondary w-100 mt-3" [disabled]="!form.valid" (click)="submit()">Log In</button>
            <button *ngIf="signupMode" class="btn btn-primary w-100 mt-3" [disabled]="!form.valid" (click)="signup()">Sign Up</button>
            <div class="text-center  mt-3">
                <a role="button" *ngIf="!signupMode" class="w-100" (click)="signupMode = true">Register a New User</a>
                <a role="button" *ngIf="signupMode" class="w-100" (click)="signupMode = false">Already a member?  Log in</a>
            </div>

        </form>
    </ng-container>
    <ng-container *ngIf="sending">
        <span *ngIf="signingUp">Registering new user...</span>
        <span *ngIf="!signingUp">Logging in...</span>
    </ng-container>
</div>